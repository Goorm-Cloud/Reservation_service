<!-- templates/admin_dashboard.html -->
{% extends 'base.html' %}

{% block title %}ê´€ë¦¬ì - ì£¼ì°¨ì¥ ì˜ˆì•½ ëª©ë¡{% endblock %}

{% block content %}
    <h2 class="text-center mb-4">ğŸš— ê´€ë¦¬ì - ì£¼ì°¨ì¥ ì˜ˆì•½ ê´€ë¦¬</h2>

    <!-- ì˜ˆì•½ ì¶”ê°€ ë²„íŠ¼ ì¶”ê°€ -->
    <div class="text-end mb-4">
        <a href="{{ url_for('admin_bp.add_reservation_route') }}" class="btn btn-success">ì˜ˆì•½ ì¶”ê°€</a>
    </div>

    <table class="table table-striped table-hover">
        <thead class="table-dark">
            <tr>
                <th>ì£¼ì°¨ì¥ ID</th>
                <th>ì˜ˆì•½ì ID</th>
                <th>ì˜ˆì•½ ìƒíƒœ</th>
                <th>ìˆ˜ì • ë‚ ì§œ</th>
                <th>ìˆ˜ì •ì ID</th>
                <th>ìƒì„¸ë³´ê¸°</th> <!-- ìƒì„¸ë³´ê¸° ì—´ ì¶”ê°€ -->
            </tr>
        </thead>
        <tbody>
            {% for res in reservations %}
            <tr>
                <td>{{ res.parkinglot_id }}</td>
                <td>{{ res.user_id }}</td>
                <td>{{ res.reservation_status }}</td>
                <td>{{ res.modified_at }}</td>
                <td>{{ res.modified_by }}</td>
                <td><a href="{{ url_for('admin_bp.reservation_detail_route', reservation_id=res.reservation_id) }}" class="btn btn-info btn-sm">ìƒì„¸ë³´ê¸°</a></td> <!-- ìƒì„¸ë³´ê¸° ë§í¬ ì¶”ê°€ -->
            </tr>
            {% endfor %}
        </tbody>
    </table>


<!-- í˜ì´ì§€ë„¤ì´ì…˜ ë²„íŠ¼ -->
    <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center">
            {% if reservations.has_prev %}
                <li class="page-item">
                    <a class="page-link" href="{{ url_for('admin_bp.admin_dashboard_route', page=reservations.prev_num) }}">ì´ì „</a>
                </li>
            {% endif %}

            {% for num in reservations.iter_pages() %}
                {% if num %}
                    <li class="page-item {% if num == reservations.page %}active{% endif %}">
                        <a class="page-link" href="{{ url_for('admin_bp.admin_dashboard_route', page=num) }}">{{ num }}</a>
                    </li>
                {% else %}
                    <li class="page-item disabled"><span class="page-link">â€¦</span></li>
                {% endif %}
            {% endfor %}

            {% if reservations.has_next %}
                <li class="page-item">
                    <a class="page-link" href="{{ url_for('admin_bp.admin_dashboard_route', page=reservations.next_num) }}">ë‹¤ìŒ</a>
                </li>
            {% endif %}
        </ul>
    </nav>

{% endblock %}
